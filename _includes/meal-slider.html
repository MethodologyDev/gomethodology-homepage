<div class="slider-wrapper slider-header">
  <div class="slider-container slider-container-title">
    <p class="slider-title" data-index="0">Meat + Seafood</p>
  </div>
  <div class="slider-container slider-container-title">
    <p class="slider-title" data-index="1">Vegan</p>
  </div>
  <div class="slider-container slider-container-title">
    <p class="slider-title" data-index="2">Meat + Vegan</p>
  </div>
  <div class="slider-container slider-container-title">
    <p class="slider-title" data-index="3">Seafood + Vegan</p>
  </div>
</div>

{%- include meat-seafood.html -%}
{%- include vegan.html -%}
{%- include meat-vegan.html -%}
{%- include seafood-vegan.html -%}


<div class="scroll-view">
  <div id="scroll-element" class="scroll-container">
    <div class="content2">
      <div class="scroll-item"></div>
      <div class="scroll-item"></div>
      <div class="scroll-item"></div>
      <div class="scroll-item"></div>
      <div class="scroll-item"></div>
      <div class="scroll-item"></div>
    </div>
  </div>
</div>

<script>
  function syncScroll(event) {
    var sourceElement = event.target;
    var targetElement = (sourceElement.id === 'main-slider') ? document.getElementById('scroll-element') : document.getElementById('main-slider');
    targetElement.scrollLeft = sourceElement.scrollLeft;
  }

  document.getElementById('main-slider').addEventListener('scroll', syncScroll);
  document.getElementById('main-slider').addEventListener('scroll', syncScroll);

</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const sliderTitles = document.querySelectorAll('.slider-title');
    const mainSlider = document.getElementById('main-slider');
    const productItems = mainSlider.querySelectorAll('.product-item');

    sliderTitles.forEach(title => {
      title.addEventListener('click', function () {
        const index = this.getAttribute('data-index');
        const targetProduct = mainSlider.querySelector(`.product-item[data-index="${index}"]`);

        if (targetProduct) {
          const containerRect = mainSlider.getBoundingClientRect();
          const targetRect = targetProduct.getBoundingClientRect();
          const scrollLeft = targetRect.left - containerRect.left - (containerRect.width / 2) + (targetRect.width / 2);

          mainSlider.scrollTo({
            left: mainSlider.scrollLeft + scrollLeft,
            behavior: 'smooth'
          });
        }
      });
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const sliderContainers = document.querySelectorAll('.slider-container-title');

    const partials = [
      document.querySelector('.meat-seafood'),
      document.querySelector('.vegan'),
      document.querySelector('.meat-vegan'),
      document.querySelector('.seafood-vegan')
    ];

    function showPartial(index) {
      partials.forEach((partial, i) => {
        if (i === index) {
          partial.style.display = 'flex';
        } else {
          partial.style.display = 'none';
        }
      });
    }

    sliderContainers.forEach((container) => {
      container.addEventListener('click', function() {
        const index = parseInt(this.querySelector('.slider-title').getAttribute('data-index'));
        showPartial(index);
      });
    });

    showPartial(0);
  });
</script>

<style>
  .scroll-view {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
  }

  .scroll-container {
    height: 4px;
    width: 50%;
    overflow-x: scroll;
    white-space: nowrap;
    border-bottom: 1px solid #36443A;
    margin-top: 22px;
    scrollbar-color: #36443A;
  }

  .scroll-item {
    display: inline-block;
    width: 100px;
    height: 0px;
    margin-right: 10px;
  }

</style>
